function y = sys_mfderi(xx,par,varargin)

if nargin == 2
	error('SYS_MFDERI: no arguments.');
elseif nargin > 7
	error('SYS_MFDERI: too many arguments.');
end

y = 0;

numarg = nargin - 2;

switch numarg
	case 1
		u1 = varargin{1};
		y = [1/par(12)*(-par(3)-par(4)*xx(2,1)-1/2*par(2)/par(6)*(1-tanh((xx(1,1)-par(5))/par(6))^2)*(xx(1,1)-par(10))-par(2)*(1/2+1/2*tanh((xx(1,1)-par(5))/par(6))))*u1(1,1)-1/par(12)*par(4)*(xx(1,1)-par(11))*u1(2,1)+1/2/par(12)*par(14)/par(16)*(1-tanh((xx(1,2)-par(15))/par(16))^2)*u1(1,2);
			(1/2*par(1)/par(8)*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1/2+1/2*tanh((xx(1,1)-par(7))/par(8))-xx(2,1))+1/2*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)*(1-tanh((xx(1,1)-par(7))/par(8))^2))*u1(1,1)-par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(2,1)];
	case 2
		u1 = varargin{1}; u2 = varargin{2};
		y = [1/par(12)*(par(2)/par(6)^2*tanh((xx(1,1)-par(5))/par(6))*(1-tanh((xx(1,1)-par(5))/par(6))^2)*(xx(1,1)-par(10))-par(2)/par(6)*(1-tanh((xx(1,1)-par(5))/par(6))^2))*u1(1,1)*u2(1,1)-1/par(12)*par(4)*u1(1,1)*u2(2,1)-1/par(12)*par(4)*u1(2,1)*u2(1,1)-1/par(12)*par(14)/par(16)^2*tanh((xx(1,2)-par(15))/par(16))*(1-tanh((xx(1,2)-par(15))/par(16))^2)*u1(1,2)*u2(1,2);
			(1/4*par(1)/par(8)^2*cosh(1/2*(xx(1,1)-par(7))/par(8))*(1/2+1/2*tanh((xx(1,1)-par(7))/par(8))-xx(2,1))+1/2*par(1)/par(8)^2*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^2*tanh((xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2))*u1(1,1)*u2(1,1)-1/2*par(1)/par(8)*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(2,1)-1/2*par(1)/par(8)*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(2,1)*u2(1,1)];
	case 3
		u1 = varargin{1}; u2 = varargin{2}; u3 = varargin{3};
		y = [1/par(12)*(par(2)/par(6)^3*(1-tanh((xx(1,1)-par(5))/par(6))^2)^2*(xx(1,1)-par(10))-2*par(2)/par(6)^3*tanh((xx(1,1)-par(5))/par(6))^2*(1-tanh((xx(1,1)-par(5))/par(6))^2)*(xx(1,1)-par(10))+3*par(2)/par(6)^2*tanh((xx(1,1)-par(5))/par(6))*(1-tanh((xx(1,1)-par(5))/par(6))^2))*u1(1,1)*u2(1,1)*u3(1,1)+(-1/par(12)*par(14)/par(16)^3*(1-tanh((xx(1,2)-par(15))/par(16))^2)^2+2/par(12)*par(14)/par(16)^3*tanh((xx(1,2)-par(15))/par(16))^2*(1-tanh((xx(1,2)-par(15))/par(16))^2))*u1(1,2)*u2(1,2)*u3(1,2);
			(1/8*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1/2+1/2*tanh((xx(1,1)-par(7))/par(8))-xx(2,1))+3/8*par(1)/par(8)^3*cosh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-3/2*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^3*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2+2*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^3*tanh((xx(1,1)-par(7))/par(8))^2*(1-tanh((xx(1,1)-par(7))/par(8))^2))*u1(1,1)*u2(1,1)*u3(1,1)-1/4*par(1)/par(8)^2*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(2,1)-1/4*par(1)/par(8)^2*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(2,1)*u3(1,1)-1/4*par(1)/par(8)^2*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(2,1)*u2(1,1)*u3(1,1)];
	case 4
		u1 = varargin{1}; u2 = varargin{2}; u3 = varargin{3}; u4 = varargin{4};
		y = [1/par(12)*(-8*par(2)/par(6)^4*(1-tanh((xx(1,1)-par(5))/par(6))^2)^2*(xx(1,1)-par(10))*tanh((xx(1,1)-par(5))/par(6))+4*par(2)/par(6)^3*(1-tanh((xx(1,1)-par(5))/par(6))^2)^2+4*par(2)/par(6)^4*tanh((xx(1,1)-par(5))/par(6))^3*(1-tanh((xx(1,1)-par(5))/par(6))^2)*(xx(1,1)-par(10))-8*par(2)/par(6)^3*tanh((xx(1,1)-par(5))/par(6))^2*(1-tanh((xx(1,1)-par(5))/par(6))^2))*u1(1,1)*u2(1,1)*u3(1,1)*u4(1,1)+(8/par(12)*par(14)/par(16)^4*(1-tanh((xx(1,2)-par(15))/par(16))^2)^2*tanh((xx(1,2)-par(15))/par(16))-4/par(12)*par(14)/par(16)^4*tanh((xx(1,2)-par(15))/par(16))^3*(1-tanh((xx(1,2)-par(15))/par(16))^2))*u1(1,2)*u2(1,2)*u3(1,2)*u4(1,2);
			(1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*(1/2+1/2*tanh((xx(1,1)-par(7))/par(8))-xx(2,1))+1/4*par(1)/par(8)^4*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-3/2*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-2*par(1)/par(8)^4*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2+4*par(1)/par(8)^4*sinh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))^2*(1-tanh((xx(1,1)-par(7))/par(8))^2)+8*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^4*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2*tanh((xx(1,1)-par(7))/par(8))-4*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^4*tanh((xx(1,1)-par(7))/par(8))^3*(1-tanh((xx(1,1)-par(7))/par(8))^2))*u1(1,1)*u2(1,1)*u3(1,1)*u4(1,1)-1/8*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(1,1)*u4(2,1)-1/8*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(2,1)*u4(1,1)-1/8*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(2,1)*u3(1,1)*u4(1,1)-1/8*par(1)/par(8)^3*sinh(1/2*(xx(1,1)-par(7))/par(8))*u1(2,1)*u2(1,1)*u3(1,1)*u4(1,1)];
	case 5
		u1 = varargin{1}; u2 = varargin{2}; u3 = varargin{3}; u4 = varargin{4}; u5 = varargin{5};
		y = [1/par(12)*(44*par(2)/par(6)^5*(1-tanh((xx(1,1)-par(5))/par(6))^2)^2*(xx(1,1)-par(10))*tanh((xx(1,1)-par(5))/par(6))^2-40*par(2)/par(6)^4*(1-tanh((xx(1,1)-par(5))/par(6))^2)^2*tanh((xx(1,1)-par(5))/par(6))-8*par(2)/par(6)^5*(1-tanh((xx(1,1)-par(5))/par(6))^2)^3*(xx(1,1)-par(10))-8*par(2)/par(6)^5*tanh((xx(1,1)-par(5))/par(6))^4*(1-tanh((xx(1,1)-par(5))/par(6))^2)*(xx(1,1)-par(10))+20*par(2)/par(6)^4*tanh((xx(1,1)-par(5))/par(6))^3*(1-tanh((xx(1,1)-par(5))/par(6))^2))*u1(1,1)*u2(1,1)*u3(1,1)*u4(1,1)*u5(1,1)+(-44/par(12)*par(14)/par(16)^5*(1-tanh((xx(1,2)-par(15))/par(16))^2)^2*tanh((xx(1,2)-par(15))/par(16))^2+8/par(12)*par(14)/par(16)^5*(1-tanh((xx(1,2)-par(15))/par(16))^2)^3+8/par(12)*par(14)/par(16)^5*tanh((xx(1,2)-par(15))/par(16))^4*(1-tanh((xx(1,2)-par(15))/par(16))^2))*u1(1,2)*u2(1,2)*u3(1,2)*u4(1,2)*u5(1,2);
			(1/32*par(1)/par(8)^5*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1/2+1/2*tanh((xx(1,1)-par(7))/par(8))-xx(2,1))+5/32*par(1)/par(8)^5*cosh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-5/4*par(1)/par(8)^5*sinh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)-5/2*par(1)/par(8)^5*cosh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2+5*par(1)/par(8)^5*cosh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))^2*(1-tanh((xx(1,1)-par(7))/par(8))^2)+20*par(1)/par(8)^5*sinh(1/2*(xx(1,1)-par(7))/par(8))*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2*tanh((xx(1,1)-par(7))/par(8))-10*par(1)/par(8)^5*sinh(1/2*(xx(1,1)-par(7))/par(8))*tanh((xx(1,1)-par(7))/par(8))^3*(1-tanh((xx(1,1)-par(7))/par(8))^2)-44*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^5*(1-tanh((xx(1,1)-par(7))/par(8))^2)^2*tanh((xx(1,1)-par(7))/par(8))^2+8*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^5*(1-tanh((xx(1,1)-par(7))/par(8))^2)^3+8*par(1)*cosh(1/2*(xx(1,1)-par(7))/par(8))/par(8)^5*tanh((xx(1,1)-par(7))/par(8))^4*(1-tanh((xx(1,1)-par(7))/par(8))^2))*u1(1,1)*u2(1,1)*u3(1,1)*u4(1,1)*u5(1,1)-1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(1,1)*u4(1,1)*u5(2,1)-1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(1,1)*u4(2,1)*u5(1,1)-1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(1,1)*u3(2,1)*u4(1,1)*u5(1,1)-1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(1,1)*u2(2,1)*u3(1,1)*u4(1,1)*u5(1,1)-1/16*par(1)/par(8)^4*cosh(1/2*(xx(1,1)-par(7))/par(8))*u1(2,1)*u2(1,1)*u3(1,1)*u4(1,1)*u5(1,1)];
end